\documentclass[paper=a4, fontsize=11pt]{report} % A4 paper, 11pt font-size
\usepackage[margin=1in]{geometry} % 1 inch margin
\linespread{1} % single spacing

% --------------------
% Packages
% --------------------
\usepackage[T1]{fontenc} % Use 8-bit encoding that has 256 glyphs
\usepackage{fourier} % Use the Adobe Utopia font for the document - comment this line to return to the LaTeX default
\usepackage[english]{babel} % English language/hyphenation
\usepackage{amsmath,amsfonts,amsthm,amssymb} % Math packages
\usepackage{graphicx}
\usepackage{float} % Use [H] to force figure not float
\usepackage[section]{placeins} % prevent figures to appear in another section
\usepackage[vlined,lined,boxed,commentsnumbered]{algorithm2e}
\usepackage[colorlinks=true]{hyperref} % hyper-link
\usepackage{booktabs} % predefined table rules style
\usepackage{enumitem} % listing environment style
\usepackage{indentfirst} % indent the first line of a section
\usepackage{listings} % code listing environment
\usepackage{dirtree} % directory tree

% Font Setting
% \usepackage{fontspec}
% \setmainfont{Times New Roman}
% \setmainfont{STIXGeneral}
% \setsansfont{Arial}
% \setmonofont{Courier New}

% --------------------
% Title page
% --------------------
\title{Dell SonicWall Visualization Report}
\author{
Wanzhang Sheng\\
Kaiming Yang\\
Michelle Gao\\
Xi Han
}

% --------------------
% Document
% --------------------
\begin{document}
\maketitle


\chapter{Introduction} % (fold)
\label{cha:introduction}
% The introduction section should contain two subsections: a project overview, and a team overview. The project overview should provide a high-level description of your project, including a summary of your deliverables.
% The team overview should include a biography of each team member and your sponsor (or sponsor's company). Include details relevant to your project, including the skills and experience of each team member.
% Aim for 3 to 5 paragraphs for your project overview. There should be at least one paragraph per person in the team overview.

\section{Project Overview} % (fold)
\label{sec:project_overview}
In this project, we use D3 to build stand-alone prototype visualizations of Dell SonicWALL firewall
data that could be integrated into their Dell SonicWALL Analyzer product.After we learn SonicWALL
data format, we decide to  use wireshark data which is similar to the firewall data of Dell
SonicWALL products, and we generate dashboard,datamaps, and realtime map plot.

\subsection{Dell SonicWALL Analyzer} % (fold)
\label{sub:dell_sonicwall_analyzer}

\begin{description}[style=nextline]
    \item[\href{http://www.sonicwall.com/us/en/products/Firewall-Analyzer.html}{Analyzer}]
    Figure~\ref{fig:analyzer} is the current visualization of data usage of Dell SonicWALL Analyzer.The analyzer streamlines and summarizes web traffic and network data.We want to generate visualizations that could be interated into the Analyzer product to show near real-time analysis of traffic and network data.
	   \begin{figure}[H]
        \begin{center}
            \includegraphics[width=0.9\textwidth]{analyzer.png}
        \end{center}
        \caption{Analyzer}\label{fig:analyzer}
    \end{figure}

\end{description}
% subsection sonic_wall_analyzer (end)

\subsection{Wireshark Data} % (fold)
\label{sub:wireshark_data}

\begin{description}[style=nextline]
	\item[\href{http://sjengle.cs.usfca.edu/cs690-sonicwall/}{Transformation of Data}]
    Figure~\ref{fig:datastructure} is the transformation of data, the data file from 1.4MB(left side) to 5.8KB(right side). This will significantly improve the network performance.The structure is just as what we use in D3, so much less preprocess in user's browser, which means it's faster.
visualizations using these datasets.
	   \begin{figure}[H]
        \begin{center}
            \includegraphics[width=0.9\textwidth]{datastructure.png}
        \end{center}
        \caption{Transformation of Data Structure}\label{fig:datastructure}
    \end{figure}

\end{description}


\subsection{Summary of Deliverables} % (fold)
\label{sub:deliverable}

\begin{description}[style=nextline]
	\item[\href{http://sjengle.cs.usfca.edu/cs690-sonicwall/deliverables.html}{Our Visualizations}]
    Figure~\ref{fig:website} is the website we build for our projects.Using the dataset we generated from wireshark data, we generate a Figure~\ref{fig:datamap} shows the connection between source and destination nodes, a Figure~\ref{fig:dashboard1} which contains a area chart and related sortable table, and Figure~\ref{fig:mapplot1} a realtime map plot which visualizes connection from realtime data received from backend.

	\begin{figure}[H]
        \begin{center}
            \includegraphics[width=0.45\textwidth]{website.png}
        \end{center}
        \caption{Our Website}\label{fig:website}
    \end{figure}

	\begin{figure}[H]
        \begin{center}
            \includegraphics[width=0.45\textwidth]{datamap.png}
        \end{center}
        \caption{Data Map}\label{fig:datamap}
    \end{figure}

	\begin{figure}[H]
        \begin{center}
            \includegraphics[width=0.45\textwidth]{dashboard.png}
        \end{center}
        \caption{Dashboard}\label{fig:dashboard1}
    \end{figure}

	\begin{figure}[H]
        \begin{center}
            \includegraphics[width=0.45\textwidth]{realtime.png}
        \end{center}
        \caption{Realtime Map Plot}\label{fig:mapplot1}
    \end{figure}

\end{description}




\section{Team Overview} % (fold)
\label{sec:team_ovierview}
\subsection{Team Members} % (fold)
\label{sub:team_members}
Our team members are Wanzhang Sheng, Kaiming Yang, Jie Gao and Xi Han.

Wanzhang Sheng is a Computer Science graduate student of University of San Francisco. He has worked on Ruby on Rails for over four years. Finished internship in Twitter working on Backbone.js.

Jie Gao is a Computer Science student at University of San Francisco. She has experiences in Java and C. She has built two-layer web service using Java.She used to study Electrical Engineering and has worked as a Information System administrator for over a year.

Xi Han is a Computer Science graduate student of University of San Francisco. He mainly focuses on data mining and data visualization on several fields using C\#, python and javascript libraries. During his internship he was working on SQL error comparison visualization in Honeywell(China). And he also has experiences working on protein molecule visualization using OpenGL under his professor. 

Kaiming Yang is a Computer Science student at University of San Francisco. He has experiences in many programming languages like C/C++, Java and Python. He used to study physics and worked a lot on scientific computation.

\subsection{Sponsors} % (fold)
\label{sub:sponsors}
Our sponsors are Sophie Engle and Carrie GAtes.

Sophie Engle is an Assistant Professor in the Department of Computer Science at the University of San Francisco. Sophie Engle is also the Graduate Director for the Masters in Science in Computer Science (MSCS) program, and teach courses for the Masters in Science in Analytics (MSAN) program. She is the mentor and one of sponsors of this project.

Carrie Gates is the Chief Scientist at Dell Research. She received her PhD in May, 2006, and spent the last three years of her degree working at CERT, Carnegie Mellon University, where she performed research in network security. She have also worked on access control for WebSphere while at the IBM Toronto Centre for Advanced Studies (CAS). Previous to her PhD studies, she have six years of experience in systems administration and management. She is one of sponsors of this project.







% chapter introduction (end)


\chapter{Specification} % (fold)
\label{cha:specification}
% The specification section should contain two subsections: functionality requirements and design. These sections should come primarily from your draft specification.
% Please see the Draft Specification assignment for additional details on what to include in these sections. Aim for 2 or more pages for this section.
\input{final_spec.tex}




% chapter specification (end)


\chapter{Implementation} % (fold)
\label{cha:implementation}
% The implementation section should contain three subsections: results, obstacles, and a timeline. The results section is where you discuss in detail your final results. The specification discusses what you wanted to complete, whereas this section discusses what you actually completed. Be specific about the functionality you implemented and the environments/tools you used.
% The obstacles section is your chance to discuss the obstacles your team encountered that slowed your progress. Discuss what happened, how you addressed the issue, and how this affected your timeline.
% The timeline section should show the actual dates you completed major milestones, and projected dates to complete the unfinished portions of your specification and test plan.
% Aim for 2 or more pages for this section.
\input{final_impl.tex}


% chapter implementation (end)


\chapter{Test Plan} % (fold)
\label{cha:test_plan}
% The test plan section should contain two subsections: objectives and scenarios. These sections should come primarily from your draft test plan.
% Please see the Draft Test Plan assignment for additional details on what to include in these sections. Aim for 2 or more pages for this section.



% chapter test_plan (end)


\chapter{Deliverables} % (fold)
\label{cha:deliverables}
% Aim for 2 or more pages for this section.

\section{Primary Deliverables} % (fold)
\label{sec:primary_deliverables}
% list the specific files containing the code you created for the primary functionality of this project.
% Include specific filenames and directory structure,
% and statistics such as the number of files, file size of these files combined, and SLOC (source-lines-of-code) for the code you provided.
% Do not include data files in this section.

Our main deliverables are our demo visualizations and the website we created for this project.

\subsection{Demo Visualizations} % (fold)
\label{sub:demo_visualizations}

\begin{description}[style=nextline]
    \item[\href{http://sjengle.cs.usfca.edu/cs690-sonicwall/public/demo/}{Dashboard}]
    Figure~\ref{fig:dashboard} aims to create an overview of the network traffic.
    We limited the result only shows a summary of top ten connections.
    It includes two parts.
    The top one is an area chart shows networking packages over time, separated by protocols.
    Users can click on it to show traffic details at the corresponding time.
    The bottom one is a sortable table. Each row indicates a different connection by source, destination and protocol, along with a spark-line to show the trend, and a bar to show the total bytes of the connection.
    By hovering mouse over a row, the area chart can change to the subset data correspondingly.
    And also, users are allowed to select one single row by a simple click or select multiple rows by holding command/option/shift key with a clicking to lock the dataset, then users can move their mouses to the area chart to inspect more details.
    \begin{figure}[H]
        \begin{center}
            \includegraphics[width=0.9\textwidth]{dashboard.png}
        \end{center}
        \caption{Dashboard}\label{fig:dashboard}
    \end{figure}

    \item[\href{http://sjengle.cs.usfca.edu/cs690-sonicwall/wsheng/datamaps/}{Datamaps}]
    Figure~\ref{fig:datamaps} is a map visualization. It shows the traffic on a a map.
    User can switch map scope between USA and the world.
    Arcs between cities indicate connections and thicknesses indicate the volumes.
    Circles indicate the traffic volume of the city. Cyan for outgoing volume and red for incoming volume.
    Users can toggle circles by clicking on the legend.
    \begin{figure}[H]
        \begin{center}
            \includegraphics[width=0.9\textwidth]{datamap.png}
        \end{center}
        \caption{Data-maps}\label{fig:datamaps}
    \end{figure}

    \item[\href{http://sjengle.cs.usfca.edu/cs690-sonicwall/kyang/week-1_map_plot_refined/}{Realtime Map Plot}]
    Figure~\ref{fig:realtime} is a map visualization which keeps receiving realtime data from our back-end.
    Lines on the map indicate connections.
    By hovering on any line, users are allowed to inspect details of that connection with two line charts and two bar charts for both directions.
    And by clicking, to make it horizontal which is easier for users to watch the charts.
    \begin{figure}[H]
        \begin{center}
            \includegraphics[width=0.9\textwidth]{realtime.png}
        \end{center}
        \caption{Realtime Map Plot}\label{fig:realtime}
    \end{figure}

\end{description}
% subsection demo_visualizations (end)

\subsection{Website} % (fold)
\label{sub:website}

Because our project is about visualizations, we created a website to show our work at \url{http://sjengle.cs.usfca.edu/cs690-sonicwall/} with \href{http://getbootstrap.com/}{Bootstrap}.
There are several pages on it.

\begin{description}[style=nextline]
    \item[\href{http://sjengle.cs.usfca.edu/cs690-sonicwall/}{Home}]
    This page shows a brief introduction to this project. Why we worked on this project and the basic timeline of the whole process.
    \item[\href{http://sjengle.cs.usfca.edu/cs690-sonicwall/visual.html}{Visualizations}]
    This page lists all visualizations we created for this project, including all attempts before the final visualizations.
    \item[\href{http://sjengle.cs.usfca.edu/cs690-sonicwall/data.html}{Data}]
    This page shows where did we pick the data for our visualizations, and how we transformed it and mixed geography information to fit our needs.
    \item[\href{http://sjengle.cs.usfca.edu/cs690-sonicwall/tools.html}{Tools}]
    This page lists main open-source libraries or visualization tools we used during the development.
    \item[\href{http://sjengle.cs.usfca.edu/cs690-sonicwall/team.html}{Team}]
    This page lists all team members and sponsors with avatars and biographies.
    \item[\href{http://sjengle.cs.usfca.edu/cs690-sonicwall/deliverables.html}{Deliverables}]
    This page shows main deliverables including this report, usage videos and slides used in the final presentation.
\end{description}

Our works are mainly in page \href{http://sjengle.cs.usfca.edu/cs690-sonicwall/visual.html}{Visualizations}.
We have seven sections list different attempts.
In most sections, every team member has their own attempts.
By hovering mouse on any item, it will show a thumbnail of the visualization correspondingly.
By this way, we can explore as wide as we could, to find the best way to visualize the data.

% subsection website (end)

\subsection{Code Files} % (fold)
\label{sub:code_files}

\dirtree{%
.1 /.
    .2 index.html.
    .2 visual.html.
    .2 data.html.
    .2 tools.html.
    .2 team.html.
    .2 deliverables.html.
    .2 assets/\DTcomment{Assets for pages above}.
        .3 default.css.
        .3 *.png.
        .3 *.jpg.
    .2 public/.
        .3 demo/\DTcomment{Demo page}.
            .4 index.html.
            .4 style.css.
            .4 g1.js\DTcomment{Reusable area chart}.
            .4 table.js\DTcomment{Reusable sortable table}.
        .3 lib/.
            .4 sparkcharts/.
                .5 sparkcharts.js\DTcomment{Reusable spark chart}.
}

% subsection code_files (end)

\subsection{Source Lines of Code} % (fold)
\label{sub:sloc}

We use a JavaScript tool \href{https://github.com/flosse/sloc}{SLOC} to calculate source-line-of-code:

\begin{lstlisting}[language=bash, breaklines=true]
sloc . --exclude "(jquery|bootstrap|d3|p5|tip|modernizr|datamaps).*\.(js|css)|.*\.(csv|json)|nsa6600|xihan/lib"
\end{lstlisting}

This command means when it analytics files, it will exclude files whose filename or pathname matches the given regular expression.
By this, we remove libraries or data we used or generated in the project to make the result more meaningful and convincing.
And the result is in Table~\ref{tab:sloc}.

\begin{table}[H]
    \caption{SLOC Result}\label{tab:sloc}
    \begin{center}
        \begin{tabular}{cccccccc}
        \toprule
        \textbf{Physical} & \textbf{Source} & \textbf{Comment} & \textbf{Single-line comment} & \textbf{Block comment} & \textbf{Mixed} & \textbf{Empty} & \textbf{Number of files}\\
        \midrule
        9978     & 8226   & 621     & 384                 & 238           & 62    & 1210  & 123 \\
        \bottomrule
        \end{tabular}
    \end{center}
\end{table}

% subsection sloc (end)

% section primary_deliverables (end)

\section{Other Deliverables} % (fold)
\label{sec:other_deliverables}
% The other deliverables section should contain any data files (XML, JSON, CSV, etc.) being provided, test code, or deliverables that do not fall under another category. Include statistics for these deliverables if possible. For example, "We include ## MB of data files, and ## SLOC of test code with our project."

\subsection{Data Files} % (fold)
\label{sub:data_files}

\dirtree{%
.1 /.
    .2 public/.
        .3 prepare.rb\DTcomment{Ruby script for preparing data}.
        .3 geoip.csv (11K)\DTcomment{Geography information table}.
        .3 sfgate.csv (1.2M)\DTcomment{Wireshark data}.
        .3 sfgate\_with\_geoip.csv (1.6M)\DTcomment{Wireshark data with geography information mixed in}.
        .3 sfgate\_summary.csv (3.3K)\DTcomment{Wireshark data summary of top 10 connections in CSV}.
        .3 sfgate\_summary.json (12K)\DTcomment{Wireshark data summary of top 10 connections in JSON}.
        .3 sfgate\_subset.csv (8.3K)\DTcomment{Wireshark subset data with top 10 connections in CSV}.
        .3 sfgate\_subset.json (16K)\DTcomment{Wireshark subset data with top 10 connections in JSON}.
        .3 nsa6600/\DTcomment{SonicWall data}.
            .4 merged.csv (240K)\DTcomment{SonicWall data merged}.
}

% subsection data_files (end)

% section other_deliverables (end)

\section{Documentation} % (fold)
\label{sec:documentation}
% The documentation section should describe where to find documentation for your project. List the specific files that provide user documentation (for using your project), and where to find developer documentation (for extending/maintaining your project).
% If you do not provide documentation, state a strong case for why you do not provide documentation. If you do not have a strong case, you will be docked points on your final report.

The usage videos in the \href{http://sjengle.cs.usfca.edu/cs690-sonicwall/deliverables.html}{Deliverables} page are our user documentations, in which we descript our user interface, our main features, and how to use them.
Those videos can also be found on YouTube:

\begin{description}
    \item[Dashboard] \url{http://youtu.be/4Hakf4k9Lig}
    \item[Realtime Map Plot] \url{http://youtu.be/KNbSRVzx_gY}
    \item[Data Structure] \url{http://youtu.be/YU_TZmgiooQ}
\end{description}

We also maintained \href{https://github.com/sjengle/cs690-sonicwall}{README} file for background description and resources links, and \href{https://github.com/sjengle/cs690-sonicwall/wiki}{Wikis} for development progress notes, on the Github repository.

% section documentation (end)

% chapter deliverables (end)


\chapter{Conclusion} % (fold)
\label{cha:conclusion}
% What we learned from this project?
% What are the shortcomings in this project?
% What can be expected to improve in the future?



% chapter conclusion (end)

\end{document}
